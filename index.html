<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="icon" href="data:,">
  <title>Objectiv</title>
  <link rel="stylesheet" href="src/styles.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script type="module" src="src/app.js"></script>
</head>
<body>
  <!-- PIN Protection Modal -->
  <div id="pin-modal" class="modal-overlay">
    <div class="modal-content">
      <h2 style="margin: 0 0 16px 0; color: #e0e0e0;">Enter PIN</h2>
      <input type="password" id="pin-input" placeholder="••••" maxlength="4"
             style="width: 120px; padding: 12px; font-size: 24px; text-align: center;
                    background: #1a1a1a; border: 1px solid #333; color: #e0e0e0;
                    border-radius: 4px; letter-spacing: 8px;"
             autocomplete="off" />
      <div id="pin-error" style="color: #ff5555; margin-top: 8px; font-size: 12px; display: none;">Incorrect PIN</div>
    </div>
  </div>

  <!-- Titlebar -->
  <div id="titlebar">
    <div id="titlebar-title"></div>
    <div id="window-controls">
      <button class="window-btn" id="btn-toggle-sidebar" title="Toggle sidebar"><i data-lucide="panel-left"></i></button>
      <button class="window-btn" id="btn-minimize">&#xE921;</button>
      <button class="window-btn" id="btn-maximize">&#xE922;</button>
      <button class="window-btn close" id="btn-close">&#xE8BB;</button>
    </div>
  </div>

  <!-- Content Wrapper -->
  <div id="content-wrapper">
    <!-- Intro Screen -->
    <div id="intro">
      <div style="text-align: center;">
        <div><span id="intro-text"></span><span id="intro-cursor"></span></div>
        <div id="intro-tagline" style="font-size: 0.8rem; margin-top: 8px; opacity: 0;"></div>
      </div>
    </div>

    <!-- Main App - Split Pane -->
    <div id="app">
      <!-- Side List (1/3) -->
      <div id="side-list">
        <div id="resize-handle"></div>
        <div id="side-list-items"></div>
        <button id="add-item-btn" class="add-item-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
        </button>
      </div>

      <!-- Content View (2/3) -->
      <div id="content-view">
        <!-- Mobile Header with Back Button -->
        <div class="mobile-header">
          <button class="mobile-back-btn" id="btn-mobile-back" aria-label="Back to objectives">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
          </button>
        </div>
        <div id="content-page">
          <div id="content-header">
            <div id="content-header-title">Select an objective</div>
            <div id="content-header-description"></div>
          </div>
          <div id="content-body"></div>
        </div>
      </div>
    </div>

    <!-- Status Bar -->
    <div id="status-bar">
      <div id="shortcuts"></div>
    </div>

    <!-- Message Toast -->
    <div id="message-toast"></div>

    <!-- Status Reporter -->
    <button class="status-toggle" id="status-toggle">inspect</button>
    <div id="status-reporter">
      <div class="status-title">System Status <span id="status-close" style="float:right;cursor:pointer;color:#666;">[x]</span></div>
      <div id="status-items"></div>
    </div>
  </div>

  <!-- Theme Toggle (direct child of body, before scripts) -->
  <button id="theme-toggle" title="Toggle theme">&#x2600;</button>
</body>
</html>
